<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>META-spec - Specification for F&lt;META.yml&gt; documents</title>
<link rev="made" href="mailto:root@hampsten.nonet" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#format">FORMAT</a></li>
	<li><a href="#terminology">TERMINOLOGY</a></li>
	<li><a href="#version_specifications">VERSION SPECIFICATIONS</a></li>
	<li><a href="#header">HEADER</a></li>
	<li><a href="#fields">FIELDS</a></li>
	<ul>

		<li><a href="#metaspec">meta-spec</a></li>
		<li><a href="#name">name</a></li>
		<li><a href="#version">version</a></li>
		<li><a href="#abstract">abstract</a></li>
		<li><a href="#author">author</a></li>
		<li><a href="#license">license</a></li>
		<li><a href="#distribution_type">distribution_type</a></li>
		<li><a href="#requires">requires</a></li>
		<li><a href="#recommends">recommends</a></li>
		<li><a href="#build_requires">build_requires</a></li>
		<li><a href="#conflicts">conflicts</a></li>
		<li><a href="#dynamic_config">dynamic_config</a></li>
		<li><a href="#private">private</a></li>
		<li><a href="#provides">provides</a></li>
		<li><a href="#no_index">no_index</a></li>
		<ul>

			<li><a href="#file">file</a></li>
			<li><a href="#dir">dir</a></li>
			<li><a href="#package">package</a></li>
			<li><a href="#namespace">namespace</a></li>
		</ul>

		<li><a href="#keywords">keywords</a></li>
		<li><a href="#resources">resources</a></li>
		<li><a href="#generated_by">generated_by</a></li>
	</ul>

	<li><a href="#see_also">SEE ALSO</a></li>
	<li><a href="#history">HISTORY</a></li>
</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>META-spec - Specification for <em>META.yml</em> documents</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<pre>
 --- #YAML:1.0
 name: Module-Build
 abstract: Build and install Perl modules
 version: 0.20
 author:
   - Ken Williams &lt;kwilliams@cpan.org&gt;
 license: perl
 distribution_type: module
 requires:
   Config: 0
   Cwd: 0
   Data::Dumper: 0
   ExtUtils::Install: 0
   File::Basename: 0
   File::Compare: 0
   File::Copy: 0
   File::Find: 0
   File::Path: 0
   File::Spec: 0
   IO::File: 0
   perl: 5.005_03
 recommends:
   Archive::Tar: 1.00
   ExtUtils::Install: 0.3
   ExtUtils::ParseXS: 2.02
   Pod::Text: 0
   YAML: 0.35
 build_requires:
   Test: 0
 urls:
   license: <a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a>
 meta-spec:
   version: 1.2
   url: <a href="http://module-build.sourceforge.net/META-spec-v1.2.html">http://module-build.sourceforge.net/META-spec-v1.2.html</a>
 generated_by: Module::Build version 0.20</pre>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>This document describes version 1.2 of the <em>META.yml</em> specification.</p>
<p>The <em>META.yml</em> file describes important properties of contributed
Perl distributions such as the ones found on CPAN.  It is typically
created by tools like Module::Build, Module::Install, and
ExtUtils::MakeMaker.</p>
<p>The fields in the <em>META.yml</em> file are meant to be helpful for people
maintaining module collections (like CPAN), for people writing
installation tools (like CPAN.pm or CPANPLUS), or just for people who
want to know some stuff about a distribution before downloading it and
starting to install it.</p>
<p><em>Note: The latest stable version of this specification can always be
found at <a href="http://module-build.sourceforge.net/META-spec-current.html">http://module-build.sourceforge.net/META-spec-current.html</a>,
and the latest development version (which may include things that
won't make it into the stable version can always be found at
<a href="http://module-build.sourceforge.net/META-spec-blead.html">http://module-build.sourceforge.net/META-spec-blead.html</a>.</em></p>
<p>
</p>
<hr />
<h1><a name="format">FORMAT</a></h1>
<p><em>META.yml</em> files are written in the YAML format (see
<a href="http://www.yaml.org/">http://www.yaml.org/</a>).</p>
<p>See the following links to learn why we chose YAML instead of, say,
XML or Data::Dumper:</p>
<ul>
<li></li>
Module::Build design plans
<p><a href="http://nntp.x.perl.org/group/perl.makemaker/406">http://nntp.x.perl.org/group/perl.makemaker/406</a></p>
<p></p>
<li></li>
Not keen on YAML
<p><a href="http://nntp.x.perl.org/group/perl.module-authors/1353">http://nntp.x.perl.org/group/perl.module-authors/1353</a></p>
<p></p>
<li></li>
META Concerns
<p><a href="http://nntp.x.perl.org/group/perl.module-authors/1385">http://nntp.x.perl.org/group/perl.module-authors/1385</a></p>
<p></p></ul>
<p>
</p>
<hr />
<h1><a name="terminology">TERMINOLOGY</a></h1>
<dl>
<dt><strong><a name="item_distribution">distribution</a></strong><br />
</dt>
<dd>
This is the primary object described by the <em>META.yml</em>
specification. In the context of this document it usually refers to a
collection of modules, scripts, and/or documents that are distributed
for other developers to use.
</dd>
<p></p>
<dt><strong><a name="item_module">module</a></strong><br />
</dt>
<dd>
This refers to a reusable library of code typically contained in a
single file. Currently, we primarily talk of perl modules, but this
specification should be open enough to apply to other languages as
well (ex. python, ruby).
</dd>
<p></p></dl>
<p>
</p>
<hr />
<h1><a name="version_specifications">VERSION SPECIFICATIONS</a></h1>
<p>Some fields require a version specification (ex. <a href="#requires">requires</a>,
<a href="#recommends">recommends</a>, <a href="#build_requires">build_requires</a>, etc.).  This section details the
version specications that are currently supported.</p>
<p>If a single version is listed, then that version is considered to be
the minimum version supported.</p>
<p>If 0 is given as the version number, then any version is supported.</p>
<p>Additionally, for more complicated requirements, the specification
supports a list of versions, each of which may be optionally preceeded
by a relational operator.</p>
<p>Supported operators include &lt; (less than), &lt;= (less than or
equal), &gt; (greater than), &gt;= (greater than or equal), == (equal), and !=
(not equal).</p>
<p>If a list is given then it is evaluated from left to right so that any
specifications in the list that conflict with a previous specification
are overriden by the later.</p>
<p>Examples:</p>
<pre>
 &gt;= 1.2, != 1.5, &lt; 2.0</pre>
<p>Any version from version 1.2 onward, except version 1.5, that also
preceeds version 2.0.</p>
<p>
</p>
<hr />
<h1><a name="header">HEADER</a></h1>
<p>The first line of a <em>META.yml</em> file should be a valid YAML document
header like <code>&quot;--- #YAML:1.0&quot;</code>.</p>
<p>
</p>
<hr />
<h1><a name="fields">FIELDS</a></h1>
<p>The rest of the <em>META.yml</em> file is one big YAML mapping whose keys
are described here.</p>
<p>
</p>
<h2><a name="metaspec">meta-spec</a></h2>
<p>Example:</p>
<pre>
 meta-spec:
   version: 1.2
   url: <a href="http://module-build.sourceforge.net/META-spec-v1.2.html">http://module-build.sourceforge.net/META-spec-v1.2.html</a></pre>
<p>(Spec 1.1) [required] {URL} This field indicates the location of the
version of the META.yml specification used.</p>
<p>
</p>
<h2><a name="name">name</a></h2>
<p>Example:</p>
<pre>
  name: Module-Build</pre>
<p>(Spec 1.0) [required] {string} The name of the distribution which is often
created by taking the ``main module'' in the distribution and changing
``::'' to ``-''.  Sometimes it's completely different, however, as in the
case of the libww-perl distribution (see
<a href="http://search.cpan.org/author/GAAS/libwww-perl/">http://search.cpan.org/author/GAAS/libwww-perl/</a>).</p>
<p>
</p>
<h2><a name="version">version</a></h2>
<p>Example:</p>
<pre>
  version: 0.20</pre>
<p>(Spec 1.0) [required] {version} The version of the distribution to which the
<em>META.yml</em> file refers.</p>
<p>
</p>
<h2><a name="abstract">abstract</a></h2>
<p>Example:</p>
<pre>
  abstract: Build and install Perl modules.</pre>
<p>(Spec 1.1) [required] {string} A short description of the purpose of the
distribution.</p>
<p>
</p>
<h2><a name="author">author</a></h2>
<p>Example:</p>
<pre>
  author:
    - Ken Williams &lt;kwilliams@cpan.org&gt;</pre>
<p>(Spec 1.1) [required] {list of strings} A YAML sequence indicating the <code>author(s)</code> of the
distribution. The prefered form is author-name &lt;email-address&gt;.</p>
<p>
</p>
<h2><a name="license">license</a></h2>
<p>Example:</p>
<pre>
  license: perl</pre>
<p>(Spec 1.0) [required] {string} The license under which this distribution may be
used and redistributed.  See <a href="/Module/Build.html">the Module::Build manpage</a> for the list of valid
options.</p>
<p>
</p>
<h2><a name="distribution_type">distribution_type</a></h2>
<p>Example:</p>
<pre>
  distribution_type: module</pre>
<p>(Spec 1.0) [optional] {string} What kind of stuff is contained in this
distribution.  Most things on CPAN are <a href="#item_module"><code>module</code></a>s (which can also mean
a collection of modules), but some things are <code>script</code>s.</p>
<p>Unfortunately this field is basically meaningless, since many
distributions are hybrids of several kinds of things, or some new
thing, or subjectively different in focus depending on who's using
them.  Tools like Module::Build and MakeMaker will likely stop
generating this field.</p>
<p>
</p>
<h2><a name="requires">requires</a></h2>
<p>Example:</p>
<pre>
  requires:
    Data::Dumper: 0
    File::Find: 1.03</pre>
<p>(Spec 1.0) [optional] {map} A YAML mapping indicating the Perl modules this
distribution requires for proper operation.  The keys are the module
names, and the values are version specifications as described in
<a href="/Module/Build.html">the Module::Build manpage</a> for the ``requires'' parameter.</p>
<p>
</p>
<h2><a name="recommends">recommends</a></h2>
<p>Example:</p>
<pre>
  recommends:
    Data::Dumper: 0
    File::Find: 1.03</pre>
<p>(Spec 1.0) [optional] {map} A YAML mapping indicating the Perl modules this
distribution recommends for enhanced operation.</p>
<p><em>ALTERNATIVE: It may be desirable to present to the user which
features depend on which modules so they can make an informed
decision about which recommended modules to install.</em></p>
<p>Example:</p>
<pre>
  optional_features:
  - foo:
      description: Provides the ability to blah.
      requires:
        Data::Dumper: 0
        File::Find: 1.03
  - bar:
      description: This feature is not available on this platform.
      excludes_os: MSWin32</pre>
<p><em>(Spec 1.1) [optional] {map} A YAML sequence of names for optional features
which are made available when its requirements are met. For each
feature a description is provided along with any of <a href="#requires">requires</a>,
<a href="#build_requires">build_requires</a>, <a href="#conflicts">conflicts</a>, <a href="#requires_packages">requires_packages</a>,
<a href="#requires_os">requires_os</a>, and <a href="#excludes_os">excludes_os</a> which have the same meaning in
this subcontext as described elsewhere in this document.</em></p>
<p>
</p>
<h2><a name="build_requires">build_requires</a></h2>
<p>Example:</p>
<pre>
  build_requires:
    Data::Dumper: 0
    File::Find: 1.03</pre>
<p>(Spec 1.0) [optional] {map} A YAML mapping indicating the Perl modules
required for building and/or testing of this distribution.  These
dependencies are not required after the module is installed.</p>
<p>
</p>
<h2><a name="conflicts">conflicts</a></h2>
<p>Example:</p>
<pre>
  conflicts:
    Data::Dumper: 0
    File::Find: 1.03</pre>
<p>(Spec 1.0) [optional] {map} A YAML mapping indicating the Perl modules that
cannot be installed while this distribution is installed.  This is a
pretty uncommon situation.</p>
<p>
</p>
<h2><a name="dynamic_config">dynamic_config</a></h2>
<p>Example:</p>
<pre>
  dynamic_config: 0</pre>
<p>(Spec 1.0) [optional] {boolean} A boolean flag indicating whether a <em>Build.PL</em>
or <em>Makefile.PL</em> (or similar) must be executed when building this
distribution, or whether it can be built, tested and installed solely
from consulting its
metadata file.  The main reason to set this to a true value if that
your module performs some dynamic configuration (asking questions,
sensing the environment, etc.) as part of its build/install process.</p>
<p>Currently Module::Build doesn't actually do anything with this flag
- it's probably going to be up to higher-level tools like CPAN
to do something useful with it.  It can potentially bring lots of
security, packaging, and convenience improvements.</p>
<p>If this field is omitted, it defaults to 1 (true).</p>
<p>
</p>
<h2><a name="private">private</a></h2>
<p><em>(Deprecated)</em> (Spec 1.0) [optional] {map} This field has been renamed to
<a href="#no_index">no_index</a>.  See below.</p>
<p>
</p>
<h2><a name="provides">provides</a></h2>
<p>Example:</p>
<pre>
  provides:
    Foo::Bar:
      file: lib/Foo/Bar.pm
      version: 0.27_02
    Foo::Bar::Blah:
      file: lib/Foo/Bar/Blah.pm
    Foo::Bar::Baz:
      file: lib/Foo/Bar/Baz.pm
      version: 0.3</pre>
<p>(Spec 1.1) [optional] {map} A YAML mapping that describes all packages
provided by this distribution.  This information can be (and, in some
cases, is) used by distribution and automation mechanisms like PAUSE,
CPAN, and search.cpan.org to build indexes saying in which
distribution various packages can be found.</p>
<p>When using tools like <code>Module::Build</code> that can generate the
<code>provides</code> mapping for your distribution automatically, make sure you
examine what it generates to make sure it makes sense - indexers will
usually trust the <code>provides</code> field if it's present, rather than
scanning through the distribution files themselves to figure out
packages and versions.  This is a good thing, because it means you can
use the <code>provides</code> field to tell the indexers precisely what you want
indexed about your distribution, rather than relying on them to
essentially guess what you want indexed.</p>
<p>
</p>
<h2><a name="no_index">no_index</a></h2>
<p>Example:</p>
<pre>
  no_index:
    file:
    - My/Module.pm
    dir:
    - My/Private
    package:
    - My::Module::Stuff
    namespace:
    - My::Module::Stuff</pre>
<p>(Spec 1.1) [optional] {map} A YAML mapping that describes any files,
directories, packages, and namespaces that are private
(i.e. implementation artifacts) that are not of interest to searching
and indexing tools.  This is useful when no <code>provides</code> field is
present.</p>
<p><em>(Note: I'm not actually sure who looks at this field, or exactly
what they do with it.  This spec could be off in some way from actual
usage.)</em></p>
<p>
</p>
<h3><a name="file">file</a></h3>
<p>(Spec 1.1) [optional] Exclude any listed file(s).</p>
<p>
</p>
<h3><a name="dir">dir</a></h3>
<p>(Spec 1.1) [optional] Exclude anything below the listed
directory(ies).</p>
<p>
</p>
<h3><a name="package">package</a></h3>
<p>(Spec 1.1) [optional] Exclude the listed package(s).</p>
<p>
</p>
<h3><a name="namespace">namespace</a></h3>
<p>(Spec 1.1) [optional] Excludes anything below the listed namespace(s),
but <em>not</em> the listed <code>namespace(s)</code> its self.</p>
<p>
</p>
<h2><a name="keywords">keywords</a></h2>
<p>Example:</p>
<pre>
  keywords:
    - make
    - build
    - install</pre>
<p>(Spec 1.1) [optional] {list} A sequence of keywords/phrases that describe
this distribution.</p>
<p>
</p>
<h2><a name="resources">resources</a></h2>
<p>Example:</p>
<pre>
  resources:
    license: <a href="http://dev.perl.org/licenses/">http://dev.perl.org/licenses/</a>
    homepage: <a href="http://sourceforge.net/projects/module-build">http://sourceforge.net/projects/module-build</a>
    bugtracker: <a href="http://rt.cpan.org/NoAuth/Bugs.html?Dist=Module-Build">http://rt.cpan.org/NoAuth/Bugs.html?Dist=Module-Build</a>
    MailingList: <a href="http://lists.sourceforge.net/lists/listinfo/module-build-general">http://lists.sourceforge.net/lists/listinfo/module-build-general</a></pre>
<p>(Spec 1.1) [optional] {map} A mapping of any URL resources related to
this distribution.  All-lower-case keys, such as <a href="#item_homepage"><code>homepage</code></a>,
<a href="#item_license"><code>license</code></a>, and <a href="#item_bugtracker"><code>bugtracker</code></a>, are reserved by this specification, as
they have ``official'' meanings defined here in this specification.  If
you'd like to add your own ``special'' entries (like the ``MailingList''
entry above), use at least one upper-case letter.</p>
<p>The current set of official keys is:</p>
<dl>
<dt><strong><a name="item_homepage">homepage</a></strong><br />
</dt>
<dd>
The official home of this project on the web.
</dd>
<p></p>
<dt><strong><a name="item_license">license</a></strong><br />
</dt>
<dd>
An URL for an official statement of this distribution's license.
</dd>
<p></p>
<dt><strong><a name="item_bugtracker">bugtracker</a></strong><br />
</dt>
<dd>
An URL for a bug tracker (e.g. Bugzilla or RT queue) for this project.
</dd>
<p></p></dl>
<p>
</p>
<h2><a name="generated_by">generated_by</a></h2>
<p>Example:</p>
<pre>
  generated_by: Module::Build version 0.20</pre>
<p>(Spec 1.0) [required] {string} Indicates the tool that was used to create this
<em>META.yml</em> file.  It's good form to include both the name of the tool
and its version, but this field is essentially opaque, at least for
the moment. If <em>META.yml</em> was generated by hand, it is suggested that
the author be specified here.</p>
<p>[Note: My <em>meta_stats.pl</em> script which I use to gather statistics
regarding <em>META.yml</em> usage prefers the form listed above, i.e. it
splits on /\s+version\s+/ taking the first field as the name of the
tool that generated the file and the second field as version of that
tool. RWS]</p>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p>CPAN, <a href="http://www.cpan.org/">http://www.cpan.org/</a></p>
<p>CPAN.pm, <a href="http://search.cpan.org/author/ANDK/CPAN/">http://search.cpan.org/author/ANDK/CPAN/</a></p>
<p>CPANPLUS, <a href="http://search.cpan.org/author/KANE/CPANPLUS/">http://search.cpan.org/author/KANE/CPANPLUS/</a></p>
<p>Data::Dumper, <a href="http://search.cpan.org/author/ILYAM/Data-Dumper/">http://search.cpan.org/author/ILYAM/Data-Dumper/</a></p>
<p>ExtUtils::MakeMaker, <a href="http://search.cpan.org/author/MSCHWERN/ExtUtils-MakeMaker/">http://search.cpan.org/author/MSCHWERN/ExtUtils-MakeMaker/</a></p>
<p>Module::Build, <a href="http://search.cpan.org/author/KWILLIAMS/Module-Build/">http://search.cpan.org/author/KWILLIAMS/Module-Build/</a></p>
<p>Module::Install, <a href="http://search.cpan.org/author/KWILLIAMS/Module-Install/">http://search.cpan.org/author/KWILLIAMS/Module-Install/</a></p>
<p>XML, <a href="http://www.w3.org/XML/">http://www.w3.org/XML/</a></p>
<p>YAML, <a href="http://www.yaml.org/">http://www.yaml.org/</a></p>
<p>
</p>
<hr />
<h1><a name="history">HISTORY</a></h1>
<dl>
<dt><strong><a name="item_2003">March 14, 2003 (Pi day)</a></strong><br />
</dt>
<ul>
<li></li>
Created version 1.0 of this document.
<p></p></ul>
<dt><strong><a name="item_may_8_2c_2003">May 8, 2003</a></strong><br />
</dt>
<ul>
<li></li>
Added the <a href="#dynamic_config">dynamic_config</a> field, which was missing from the initial
version.
<p></p></ul>
<dt><strong><a name="item_november_13_2c_2003">November 13, 2003</a></strong><br />
</dt>
<ul>
<li></li>
Added more YAML rationale articles.
<p></p>
<li></li>
Fixed existing link to YAML discussion thread to point to new
<a href="http://nntp.x.perl.org/group/">http://nntp.x.perl.org/group/</a> site.
<p></p>
<li></li>
Added and deprecated the <a href="#private">private</a> field.
<p></p>
<li></li>
Added <a href="#abstract">abstract</a>, <a href="#configure">configure</a>, <a href="#requires_packages">requires_packages</a>,
<a href="#requires_os">requires_os</a>, <a href="#excludes_os">excludes_os</a>, and <a href="#no_index">no_index</a> fields.
<p></p>
<li></li>
Bumped version.
<p></p></ul>
<dt><strong><a name="item_november_16_2c_2003">November 16, 2003</a></strong><br />
</dt>
<ul>
<li></li>
Added <a href="#generation">generation</a>, <a href="#authored_by">authored_by</a> fields.
<p></p>
<li></li>
Add alternative proposal to the <a href="#recommends">recommends</a> field.
<p></p>
<li></li>
Add proposal for a <a href="#requires_build_tools">requires_build_tools</a> field.
<p></p></ul>
<dt><strong><a name="item_december_9_2c_2003">December 9, 2003</a></strong><br />
</dt>
<ul>
<li></li>
Added link to latest version of this specification on CPAN.
<p></p>
<li></li>
Added section <a href="#version_specifications">VERSION SPECIFICATIONS</a>.
<p></p>
<li></li>
Chang name from Module::Build::META-spec to CPAN::META::Specification.
<p></p>
<li></li>
Add proposal for <a href="#auto_regenerate">auto_regenerate</a> field.
<p></p></ul>
<dt><strong><a name="item_december_15_2c_2003">December 15, 2003</a></strong><br />
</dt>
<ul>
<li></li>
Add <a href="#index">index</a> field as a compliment to <a href="#no_index">no_index</a>
<p></p>
<li></li>
Add <a href="#keywords">keywords</a> field as a means to aid searching distributions.
<p></p>
<li></li>
Add <a href="#terminology">TERMINOLOGY</a> section to explain certain terms that may be
ambiguous.
<p></p></ul>
<dt><strong><a name="item_july_26_2c_2005">July 26, 2005</a></strong><br />
</dt>
<ul>
<li></li>
Removed a bunch of items (generation, requires_build_tools,
requires_packages, configure, requires_os, excludes_os,
auto_regenerate) that have never actually been supported, but were
more like records of brainstorming.
<p></p>
<li></li>
Changed <code>authored_by</code> to <code>author</code>, since that's always been what
it's actually called in actual <em>META.yml</em> files.
<p></p>
<li></li>
Added the ``=='' operator to the list of supported version-checking
operators.
<p></p>
<li></li>
Noted that the <code>distribution_type</code> field is basically meaningless,
and shouldn't really be used.
<p></p>
<li></li>
Clarified <code>dynamic_config</code> a bit.
<p></p></ul>
<dt><strong><a name="item_august_23_2c_2005">August 23, 2005</a></strong><br />
</dt>
<ul>
<li></li>
Removed the name <code>CPAN::META::Specification</code>, since that implies a
module that doesn't actually exist.
<p></p></ul>
</dl>

</body>

</html>
